(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{2022:(e,s,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(5308)}])},5308:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>b});var l=a(4848),i=a(2150),n=a(9622),r=a(9231),t=a(3825),c=a(2424),m=a(3016),d=a(5445),h=a(6540),x=a(7992),g=a(5117),j=a(9606),o=a(2672),u=a(8840),N=a(550),p=a(5202),k=a(6068);function v(e){let{meme:s,isOpen:a,onClose:n,onSave:r}=e,[t,c]=(0,h.useState)({...s}),[m,d]=(0,h.useState)({}),x=()=>{let e={};return!t.name||t.name.length<3?e.name="Name must be at least 3 characters":t.name.length>100&&(e.name="Name must be less than 100 characters"),t.imageUrl?g(t.imageUrl)?t.imageUrl.toLowerCase().endsWith(".jpg")||t.imageUrl.toLowerCase().endsWith(".jpeg")||(e.imageUrl="URL must point to a JPG image"):e.imageUrl="Please enter a valid URL":e.imageUrl="Image URL is required",(t.likes<0||t.likes>99)&&(e.likes="Likes must be between 0 and 99"),d(e),0===Object.keys(e).length},g=e=>{try{return new URL(e),!0}catch(e){return!1}},j=e=>{let{name:s,value:a}=e.target;if("likes"===s){let e=Number.parseInt(a);c({...t,[s]:isNaN(e)?0:e})}else c({...t,[s]:a})};return(0,l.jsx)(o.Y,{isOpen:a,onOpenChange:n,children:(0,l.jsxs)(u.g,{className:"sm:max-w-[425px]",children:[(0,l.jsx)(N.c,{children:(0,l.jsx)("h2",{className:"text-lg font-semibold",children:"Edit Meme"})}),(0,l.jsxs)("div",{className:"grid gap-4 py-4 px-4",children:[(0,l.jsx)("div",{className:"grid grid-cols-4 items-center gap-4",children:(0,l.jsx)(k.r,{id:"id",label:"ID",value:String(t.id),className:"col-span-3",disabled:!0})}),(0,l.jsx)("div",{className:"grid grid-cols-4 items-center gap-4",children:(0,l.jsxs)("div",{className:"col-span-3",children:[(0,l.jsx)(k.r,{id:"name",name:"name",label:"Name",value:t.name,onChange:j}),m.name&&(0,l.jsx)("p",{className:"text-sm text-red-500 mt-1",children:m.name})]})}),(0,l.jsx)("div",{className:"grid grid-cols-4 items-center gap-4",children:(0,l.jsxs)("div",{className:"col-span-3",children:[(0,l.jsx)(k.r,{id:"imageUrl",label:"Image URL",name:"imageUrl",value:t.imageUrl,onChange:j}),m.imageUrl&&(0,l.jsx)("p",{className:"text-sm text-red-500 mt-1",children:m.imageUrl})]})}),(0,l.jsx)("div",{className:"grid grid-cols-4 items-center gap-4",children:(0,l.jsxs)("div",{className:"col-span-3",children:[(0,l.jsx)(k.r,{id:"likes",label:"Likes",name:"likes",type:"number",min:0,max:99,value:String(t.likes),onChange:j}),m.likes&&(0,l.jsx)("p",{className:"text-sm text-red-500 mt-1",children:m.likes})]})})]}),(0,l.jsxs)(p.q,{children:[(0,l.jsx)(i.T,{variant:"bordered",onPress:n,children:"Cancel"}),(0,l.jsx)(i.T,{onPress:()=>{x()&&r(t)},children:"Save changes"})]})]})})}function b(){let[e,s]=(0,h.useState)([]),[a,o]=(0,h.useState)(null),[u,N]=(0,h.useState)(!1);(0,h.useEffect)(()=>{let e=localStorage.getItem("memes");e?s(JSON.parse(e)):(s(j.a),localStorage.setItem("memes",JSON.stringify(j.a)))},[]);let p=e=>{o(e),N(!0)};return(0,l.jsx)(g.A,{children:(0,l.jsxs)("section",{className:"flex flex-col items-center justify-center",children:[(0,l.jsx)("h1",{className:(0,x.D)(),children:"Meme Directory - List View"}),(0,l.jsxs)(n.j,{className:"my-10",children:[(0,l.jsxs)(r.X,{children:[(0,l.jsx)(t.e,{children:"ID"}),(0,l.jsx)(t.e,{children:"Name"}),(0,l.jsx)(t.e,{children:"Likes"}),(0,l.jsx)(t.e,{children:"Actions"})]}),(0,l.jsx)(c.E,{children:e.map(e=>(0,l.jsxs)(m.s,{children:[(0,l.jsx)(d.w,{children:e.id}),(0,l.jsx)(d.w,{children:e.name}),(0,l.jsx)(d.w,{children:e.likes}),(0,l.jsx)(d.w,{children:(0,l.jsx)(i.T,{variant:"bordered",onClick:()=>p(e),children:"Edit"})})]},e.id))})]}),a&&(0,l.jsx)(v,{isOpen:u,meme:a,onClose:()=>N(!1),onSave:a=>{let l=e.map(e=>e.id===a.id?a:e);s(l),localStorage.setItem("memes",JSON.stringify(l)),N(!1)}})]})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[682,970,327,636,593,792],()=>s(2022)),_N_E=e.O()}]);